<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络安全 | JohnQian&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.jpg">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="我的个人网站">
    
    <link rel="preload" href="/assets/css/0.styles.2ae019f6.css" as="style"><link rel="preload" href="/assets/js/app.ce567a0d.js" as="script"><link rel="preload" href="/assets/js/2.98e05aac.js" as="script"><link rel="preload" href="/assets/js/26.00b66a51.js" as="script"><link rel="prefetch" href="/assets/js/10.ea030bdd.js"><link rel="prefetch" href="/assets/js/11.61f56e97.js"><link rel="prefetch" href="/assets/js/12.ef7b2c80.js"><link rel="prefetch" href="/assets/js/13.3a0fea3b.js"><link rel="prefetch" href="/assets/js/14.f2d458c8.js"><link rel="prefetch" href="/assets/js/15.27a50e2f.js"><link rel="prefetch" href="/assets/js/16.8e20bfbe.js"><link rel="prefetch" href="/assets/js/17.07603c81.js"><link rel="prefetch" href="/assets/js/18.de02f23f.js"><link rel="prefetch" href="/assets/js/19.a2c893d4.js"><link rel="prefetch" href="/assets/js/20.8f0ed232.js"><link rel="prefetch" href="/assets/js/21.23e635fb.js"><link rel="prefetch" href="/assets/js/22.3c4b489c.js"><link rel="prefetch" href="/assets/js/23.7b7d53b8.js"><link rel="prefetch" href="/assets/js/24.58cc9abb.js"><link rel="prefetch" href="/assets/js/25.1d9e8483.js"><link rel="prefetch" href="/assets/js/27.101ba972.js"><link rel="prefetch" href="/assets/js/28.7adcae79.js"><link rel="prefetch" href="/assets/js/29.4a21efbf.js"><link rel="prefetch" href="/assets/js/3.56ef328d.js"><link rel="prefetch" href="/assets/js/30.2efb0b48.js"><link rel="prefetch" href="/assets/js/31.5f054bea.js"><link rel="prefetch" href="/assets/js/32.b2361bb2.js"><link rel="prefetch" href="/assets/js/33.76061306.js"><link rel="prefetch" href="/assets/js/34.4e950daa.js"><link rel="prefetch" href="/assets/js/35.c9b5172b.js"><link rel="prefetch" href="/assets/js/36.e141ae74.js"><link rel="prefetch" href="/assets/js/37.2c537526.js"><link rel="prefetch" href="/assets/js/38.22ab3002.js"><link rel="prefetch" href="/assets/js/4.0851c946.js"><link rel="prefetch" href="/assets/js/5.b2e88072.js"><link rel="prefetch" href="/assets/js/6.78334fb4.js"><link rel="prefetch" href="/assets/js/7.a6b0f3a6.js"><link rel="prefetch" href="/assets/js/8.9b7bc7d3.js"><link rel="prefetch" href="/assets/js/9.6191cf74.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2ae019f6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">JohnQian's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/accumulate/" class="nav-link">
  我们
</a></div><div class="nav-item"><a href="/ourChildren/" class="nav-link">
  我们的小孩子
</a></div><div class="nav-item"><a href="/interview/" class="nav-link router-link-active">
  前端的一些题
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/accumulate/" class="nav-link">
  我们
</a></div><div class="nav-item"><a href="/ourChildren/" class="nav-link">
  我们的小孩子
</a></div><div class="nav-item"><a href="/interview/" class="nav-link router-link-active">
  前端的一些题
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端的一些题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/interview/" aria-current="page" class="sidebar-link">面试</a></li><li><a href="/interview/algorithms.html" class="sidebar-link">算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/algorithms.html#典型题目-2" class="sidebar-link">典型题目</a></li></ul></li><li><a href="/interview/design-patterns.html" class="sidebar-link">设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#设计原则" class="sidebar-link">设计原则</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#单例模式" class="sidebar-link">单例模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#策略模式" class="sidebar-link">策略模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#代理模式" class="sidebar-link">代理模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#迭代器模式" class="sidebar-link">迭代器模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#发布-订阅模式" class="sidebar-link">发布-订阅模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#命令模式" class="sidebar-link">命令模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#组合模式" class="sidebar-link">组合模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#模板模式" class="sidebar-link">模板模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#享元模式" class="sidebar-link">享元模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#职责链模式" class="sidebar-link">职责链模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#中介者模式" class="sidebar-link">中介者模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#装饰者模式" class="sidebar-link">装饰者模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#状态模式" class="sidebar-link">状态模式</a></li><li class="sidebar-sub-header"><a href="/interview/design-patterns.html#适配器模式" class="sidebar-link">适配器模式</a></li></ul></li><li><a href="/interview/js.html" class="sidebar-link">常规面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/js.html#你有必要知道的几个-javascript-面试题" class="sidebar-link">你有必要知道的几个 JavaScript 面试题</a></li><li class="sidebar-sub-header"><a href="/interview/js.html#移动端问题" class="sidebar-link">移动端问题</a></li></ul></li><li><a href="/interview/network.html" class="sidebar-link">网络</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/network.html#websocket" class="sidebar-link">WebSocket</a></li></ul></li><li><a href="/interview/questions.html" class="sidebar-link">常规面试题</a></li><li><a href="/interview/react.html" class="sidebar-link">React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/react.html#mobx" class="sidebar-link">MobX</a></li><li class="sidebar-sub-header"><a href="/interview/react.html#react-native" class="sidebar-link">React Native</a></li><li class="sidebar-sub-header"><a href="/interview/react.html#面试题" class="sidebar-link">面试题</a></li></ul></li><li><a href="/interview/vue.html" class="sidebar-link">Vue</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="网络安全"><a href="#网络安全" class="header-anchor">#</a> 网络安全</h2> <h3 id="sql-注入攻击-sql-injection"><a href="#sql-注入攻击-sql-injection" class="header-anchor">#</a> SQL 注入攻击(SQL Injection)</h3> <h3 id="命令行注入-command-execution"><a href="#命令行注入-command-execution" class="header-anchor">#</a> 命令行注入 Command Execution</h3> <p>原理和 SQL 注入攻击类似</p> <h3 id="file-upload-vulnerabilities"><a href="#file-upload-vulnerabilities" class="header-anchor">#</a> File Upload Vulnerabilities</h3> <h3 id="开放重定向-open-redirects"><a href="#开放重定向-open-redirects" class="header-anchor">#</a> 开放重定向 Open Redirects</h3> <h3 id="xss-跨站脚本攻击-cross-site-scripting"><a href="#xss-跨站脚本攻击-cross-site-scripting" class="header-anchor">#</a> XSS 跨站脚本攻击 (Cross-site Scripting)</h3> <p>XSS 的攻击方式就是想办法“教唆”用户的浏览器去执行一些这个网页中原本不存在的前端代码。
XSS 有哪些注入的方法：</p> <ul><li>在 HTML 中内嵌的文本中，恶意内容以 script 标签形成注入。</li> <li>在内联的 JavaScript 中，拼接的数据突破了原本的限制（字符串，变量，方法名等）。</li> <li>在标签属性中，恶意内容包含引号，从而突破属性值的限制，注入其他属性或者标签。</li> <li>在标签的 href、src 等属性中，包含 javascript: 等可执行代码。</li> <li>在 onload、onerror、onclick 等事件中，注入不受控制代码。</li> <li>在 style 属性和标签中，包含类似 background-image:url(&quot;javascript:...&quot;); 的代码（新版本浏览器已经可以防范）。</li> <li>在 style 属性和标签中，包含类似 expression(...) 的 CSS 表达式代码（新版本浏览器已经可以防范）。</li></ul> <p>总之，如果开发者没有将用户输入的文本进行合适的过滤，就贸然插入到 HTML 中，这很容易造成注入漏洞。
攻击者可以利用漏洞，构造出恶意的代码指令，进而利用恶意代码危害数据安全。</p> <p><code>&lt;img src=&quot;notValidUrl&quot; onerror=alert(document.cookie)&gt;</code> <code>javascript:alert('XSS')</code></p> <p>根据攻击的来源，XSS 攻击可分为存储型、反射型和 DOM 型三种。</p> <p>使用 Content Security Policy csp</p> <h3 id="跨站请求伪造-csrf-cross-site-request-forgery"><a href="#跨站请求伪造-csrf-cross-site-request-forgery" class="header-anchor">#</a> 跨站请求伪造 CSRF（Cross-site request forgery)</h3> <p>攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的。</p> <p>https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Forms/Sending_and_retrieving_form_data#%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98</p> <h3 id="点击劫持-click-jacking"><a href="#点击劫持-click-jacking" class="header-anchor">#</a> 点击劫持 Click Jacking</h3> <p>也叫 UI 覆盖攻击，攻击者会利用一个或多个透明或不透明的层来诱骗用户支持点击按钮的操作，而实际的点击确实用户看不到的一个按钮，从而达到在用户不知情的情况下实施攻击。</p> <p>可以设置<code>X-Frame-Options</code>进行防御或者设置<code>content-security-policy</code></p> <h3 id="broken-access-control-越权风险"><a href="#broken-access-control-越权风险" class="header-anchor">#</a> broken-access-control 越权风险</h3> <p>比如用户 A id 是 11111，它有些请求就根据 id 去拿数据，如果这时候 A 知道 B 的 id 是 22222，他就可以通过合格 id 拿到 B 的数据。
https://cloud.tencent.com/developer/article/1367399</p> <h3 id="一些建议"><a href="#一些建议" class="header-anchor">#</a> 一些建议</h3> <p>使用 https，任何东西不要使用明文传输。</p> <p>在登录或者忘记密码的地方，不要提示是邮箱不正确还是密码不正确。这样会大大减少黑客的破解难度。
如 twitter，登录时只提示邮箱和密码不匹配，并不会告诉你到底是哪一个不对。</p> <p>尽量不要自建登录系统，可以多依托于一些第三方的登录，如微博、QQ 等。</p> <p>使用 a 标签跳槽的时候加上 <code>rel=&quot;noopener noreferrer&quot;</code></p> <p>详细介绍：https://www.hacksplaining.com/lessons</p> <ul><li><a href="https://tech.meituan.com/2018/09/27/fe-security.html" target="_blank" rel="noopener noreferrer">前端安全系列（一）：如何防止 XSS 攻击？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://tech.meituan.com/2018/10/11/fe-security-csrf.html" target="_blank" rel="noopener noreferrer">前端安全系列（二）：如何防止 CSRF 攻击？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ce567a0d.js" defer></script><script src="/assets/js/2.98e05aac.js" defer></script><script src="/assets/js/26.00b66a51.js" defer></script>
  </body>
</html>
